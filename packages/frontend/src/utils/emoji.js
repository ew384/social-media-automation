// src/utils/emoji.js
export const WECHAT_EMOJI_MAP = {
  // è¡¨æƒ…ç±»
  '[å¾®ç¬‘]': 'ðŸ˜Š', '[æ’‡å˜´]': 'ðŸ˜’', '[è‰²]': 'ðŸ˜', '[å‘å‘†]': 'ðŸ˜³', '[å¾—æ„]': 'ðŸ˜Ž',
  '[æµæ³ª]': 'ðŸ˜¢', '[å®³ç¾ž]': 'ðŸ˜Š', '[é—­å˜´]': 'ðŸ¤', '[ç¡]': 'ðŸ˜´', '[å¤§å“­]': 'ðŸ˜­',
  '[å°´å°¬]': 'ðŸ˜…', '[å‘æ€’]': 'ðŸ˜ ', '[è°ƒçš®]': 'ðŸ˜œ', '[å‘²ç‰™]': 'ðŸ˜', '[æƒŠè®¶]': 'ðŸ˜±',
  '[éš¾è¿‡]': 'ðŸ˜ž', '[é…·]': 'ðŸ˜Ž', '[å†·æ±—]': 'ðŸ˜“', '[æŠ“ç‹‚]': 'ðŸ˜¤', '[å]': 'ðŸ¤®',
  '[å·ç¬‘]': 'ðŸ˜', '[å¯çˆ±]': 'ðŸ¥°', '[ç™½çœ¼]': 'ðŸ™„', '[å‚²æ…¢]': 'ðŸ˜¤', '[é¥¥é¥¿]': 'ðŸ¤¤',
  '[å›°]': 'ðŸ˜ª', '[æƒŠæ]': 'ðŸ˜¨', '[æµæ±—]': 'ðŸ˜…', '[æ†¨ç¬‘]': 'ðŸ˜„', '[æ‚è„¸]': 'ðŸ¤¦', 
  '[æ— è¯­]': 'ðŸ˜‘','[æ±—]': 'ðŸ˜…','[æ™•]': 'ðŸ˜µ','[æŠ é¼»]': 'ðŸ™„','[æœºæ™º]': 'ðŸ¤“',
  '[çš±çœ‰]': 'ðŸ˜Ÿ','[æ€è€ƒ]': 'ðŸ¤”',
  
  // æ‰‹åŠ¿ç±»
  '[æ¡æ‰‹]': 'ðŸ¤', '[å¼º]': 'ðŸ’ª', '[å¼±]': 'ðŸ‘Ž', '[æ‹³å¤´]': 'ðŸ‘Š', '[èƒœåˆ©]': 'âœŒï¸',
  '[OK]': 'ðŸ‘Œ', '[èµž]': 'ðŸ‘', '[è¸©]': 'ðŸ‘Ž', '[çˆ±å¿ƒ]': 'â¤ï¸', '[å¿ƒç¢Ž]': 'ðŸ’”',
  
  // æ•°å­—å’Œç¬¦å·
  '[666]': 'ðŸ‘', '[èŒ]': 'ðŸ¥°',
    // æ–°å¢žæ›´å¤šè¡¨æƒ…
  '[è½¬åœˆ]': 'ðŸŒ€', '[å¤´æ™•]': 'ðŸ˜µâ€ðŸ’«', '[çœ©æ™•]': 'ðŸ˜µ', '[æ—‹è½¬]': 'ðŸŒªï¸',
  '[ç–‘é—®]': 'â“', '[æ„Ÿå¹]': 'â—', '[åŒæ„Ÿå¹]': 'â€¼ï¸', '[é—®å·]': 'â”',
  '[ç¬‘å“­]': 'ðŸ˜‚', '[æ‚å˜´ç¬‘]': 'ðŸ¤­', '[æ–œçœ¼ç¬‘]': 'ðŸ˜', '[ç¿»ç™½çœ¼]': 'ðŸ™„',
  '[é¬¼è„¸]': 'ðŸ‘»', '[é¢å…·]': 'ðŸ˜·', '[ç”Ÿç—…]': 'ðŸ¤’', '[å‘çƒ§]': 'ðŸ¤’',
  '[æ¶å¿ƒ]': 'ðŸ¤¢', '[å£æ°´]': 'ðŸ¤¤', '[æ‰“å“ˆæ¬ ]': 'ðŸ¥±', '[æ‰“å—]': 'ðŸ˜®',
  '[æ”¾å±]': 'ðŸ’¨', '[çˆ†ç‚¸]': 'ðŸ’¥', '[ç«ç„°]': 'ðŸ”¥', '[é—ªç”µ]': 'âš¡',
  '[å½©è™¹]': 'ðŸŒˆ', '[å¤ªé˜³]': 'â˜€ï¸', '[æœˆäº®]': 'ðŸŒ™', '[æ˜Ÿæ˜Ÿ]': 'â­',
  '[é›ªèŠ±]': 'â„ï¸', '[é›¨æ»´]': 'ðŸ’§', '[é£Ž]': 'ðŸ’¨', '[äº‘]': 'â˜ï¸',
  
  // åŠ¨ç‰©ç±»
  '[ç‹—]': 'ðŸ¶', '[çŒ«]': 'ðŸ±', '[è€è™Ž]': 'ðŸ¯', '[ç‹®å­]': 'ðŸ¦',
  '[ç†ŠçŒ«]': 'ðŸ¼', '[çŒ´å­]': 'ðŸµ', '[é¸¡]': 'ðŸ”', '[ä¼é¹…]': 'ðŸ§',
  
  // é£Ÿç‰©ç±»
  '[è‹¹æžœ]': 'ðŸŽ', '[é¦™è•‰]': 'ðŸŒ', '[è¥¿ç“œ]': 'ðŸ‰', '[è‘¡è„]': 'ðŸ‡',
  '[æ±‰å ¡]': 'ðŸ”', '[æŠ«è¨]': 'ðŸ•', '[é¢æ¡]': 'ðŸœ', '[ç±³é¥­]': 'ðŸš',
  '[å•¤é…’]': 'ðŸº', '[çº¢é…’]': 'ðŸ·', '[ç‰›å¥¶]': 'ðŸ¥›', '[èŒ¶]': 'ðŸµ',
  
  // è¿åŠ¨ç±»
  '[è¶³çƒ]': 'âš½', '[ç¯®çƒ]': 'ðŸ€', '[ç½‘çƒ]': 'ðŸŽ¾', '[ç¾½æ¯›çƒ]': 'ðŸ¸',
  '[è·‘æ­¥]': 'ðŸƒ', '[æ¸¸æ³³]': 'ðŸŠ', '[éª‘è½¦]': 'ðŸš´', '[å¥èº«]': 'ðŸ‹ï¸',
  
  // äº¤é€šç±»
  '[æ±½è½¦]': 'ðŸš—', '[ç«è½¦]': 'ðŸš†', '[é£žæœº]': 'âœˆï¸', '[èˆ¹]': 'ðŸš¢',
  '[åœ°é“]': 'ðŸš‡', '[å…¬äº¤]': 'ðŸšŒ', '[å‡ºç§Ÿè½¦]': 'ðŸš•', '[æ‘©æ‰˜]': 'ðŸï¸',
  
  // èŠ‚æ—¥ç±»
  '[åœ£è¯ž]': 'ðŸŽ„', '[ç¤¼èŠ±]': 'ðŸŽ†', '[æ°”çƒ]': 'ðŸŽˆ', '[ç”Ÿæ—¥]': 'ðŸŽ‚',
  '[æ–°å¹´]': 'ðŸŽŠ', '[ä¸‡åœ£èŠ‚]': 'ðŸŽƒ', '[æƒ…äººèŠ‚]': 'ðŸ’', '[æ˜¥èŠ‚]': 'ðŸ§§',
  // ç‰©å“ç±»
  '[å’–å•¡]': 'â˜•', '[è›‹ç³•]': 'ðŸŽ‚', '[ç¤¼ç‰©]': 'ðŸŽ', '[çŽ«ç‘°]': 'ðŸŒ¹', '[å‡‹è°¢]': 'ðŸ¥€'
};

const wechatEmojis = Object.values(WECHAT_EMOJI_MAP);

// çŽ°æœ‰çš„åˆ†ç±»emoji
const categoryEmojis = [
  'ðŸ˜Š', 'ðŸ˜‚', 'ðŸ‘', 'â¤ï¸', 'ðŸ˜', 'ðŸ¤”', 'ðŸ˜¢', 'ðŸ‘Œ', 'ðŸ”¥', 'ðŸ’ª', 'ðŸ™', 'ðŸ˜Ž',
  'ðŸ˜Š', 'ðŸ˜‚', 'ðŸ¥°', 'ðŸ˜', 'ðŸ˜Ž', 'ðŸ˜¢', 'ðŸ˜ ', 'ðŸ˜±', 'ðŸ¤”', 'ðŸ˜´', 'ðŸ¤', 'ðŸ˜‹',
  'ðŸ‘', 'ðŸ‘Ž', 'ðŸ‘Œ', 'âœŒï¸', 'ðŸ¤', 'ðŸ‘‹', 'ðŸ’ª', 'ðŸ™', 'ðŸ‘', 'ðŸ¤ž', 'âœŠ', 'ðŸ‘Š',
  'â¤ï¸', 'ðŸ’•', 'ðŸ’ž', 'ðŸ’“', 'ðŸ’—', 'ðŸ’–', 'ðŸ’˜', 'ðŸ’', 'ðŸ’Ÿ', 'ðŸ’”', 'ðŸ§¡', 'ðŸ’›',
  'ðŸŽ', 'ðŸŒ¹', 'â˜•', 'ðŸŽ‚', 'âš½', 'ðŸŽ®', 'ðŸ“±', 'ðŸ’»', 'ðŸŽµ', 'ðŸŒŸ', 'ðŸ”¥', 'âœ¨'
];

// åˆå¹¶å¹¶åŽ»é‡
export const EMOJI_CATEGORIES = [...new Set([...wechatEmojis, ...categoryEmojis])];

/**
 * å°†å¾®ä¿¡è¡¨æƒ…æ–‡æœ¬è½¬æ¢ä¸ºemoji
 */
export const convertWechatToEmoji = (text) => {
  if (!text) return text;
  
  let convertedText = text;
  Object.entries(WECHAT_EMOJI_MAP).forEach(([wechatText, emoji]) => {
    const regex = new RegExp(wechatText.replace(/[[\]]/g, '\\$&'), 'g');
    convertedText = convertedText.replace(regex, emoji);
  });
  
  return convertedText;
};

/**
 * å°†emojiè½¬æ¢ä¸ºå¾®ä¿¡è¡¨æƒ…æ–‡æœ¬ï¼ˆå¯é€‰ï¼‰
 */
export const convertEmojiToWechat = (text) => {
  if (!text) return text;
  
  let convertedText = text;
  Object.entries(WECHAT_EMOJI_MAP).forEach(([wechatText, emoji]) => {
    const regex = new RegExp(emoji, 'g');
    convertedText = convertedText.replace(regex, wechatText);
  });
  
  return convertedText;
};