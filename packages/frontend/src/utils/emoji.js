// src/utils/emoji.js
export const WECHAT_EMOJI_MAP = {
  // 表情类
  '[微笑]': '😊', '[撇嘴]': '😒', '[色]': '😍', '[发呆]': '😳', '[得意]': '😎',
  '[流泪]': '😢', '[害羞]': '😊', '[闭嘴]': '🤐', '[睡]': '😴', '[大哭]': '😭',
  '[尴尬]': '😅', '[发怒]': '😠', '[调皮]': '😜', '[呲牙]': '😁', '[惊讶]': '😱',
  '[难过]': '😞', '[酷]': '😎', '[冷汗]': '😓', '[抓狂]': '😤', '[吐]': '🤮',
  '[偷笑]': '😏', '[可爱]': '🥰', '[白眼]': '🙄', '[傲慢]': '😤', '[饥饿]': '🤤',
  '[困]': '😪', '[惊恐]': '😨', '[流汗]': '😅', '[憨笑]': '😄', '[捂脸]': '🤦', 
  '[无语]': '😑','[汗]': '😅','[晕]': '😵','[抠鼻]': '🙄','[机智]': '🤓',
  '[皱眉]': '😟','[思考]': '🤔','[擦汗]':'😓','[裂开]': '🤯',
  
  // 手势类
  '[握手]': '🤝', '[强]': '💪', '[弱]': '👎', '[拳头]': '👊', '[胜利]': '✌️',
  '[OK]': '👌', '[赞]': '👍', '[踩]': '👎', '[爱心]': '❤️', '[心碎]': '💔',
  
  // 数字和符号
  '[666]': '👍', '[萌]': '🥰',
    // 新增更多表情
  '[转圈]': '🌀', '[头晕]': '😵‍💫', '[眩晕]': '😵', '[旋转]': '🌪️',
  '[疑问]': '❓', '[感叹]': '❗', '[双感叹]': '‼️', '[问号]': '❔',
  '[笑哭]': '😂', '[捂嘴笑]': '🤭', '[斜眼笑]': '😏', '[翻白眼]': '🙄',
  '[鬼脸]': '👻', '[面具]': '😷', '[生病]': '🤒', '[发烧]': '🤒',
  '[恶心]': '🤢', '[口水]': '🤤', '[打哈欠]': '🥱', '[打嗝]': '😮',
  '[放屁]': '💨', '[爆炸]': '💥', '[火焰]': '🔥', '[闪电]': '⚡',
  '[彩虹]': '🌈', '[太阳]': '☀️', '[月亮]': '🌙', '[星星]': '⭐',
  '[雪花]': '❄️', '[雨滴]': '💧', '[风]': '💨', '[云]': '☁️',
  
  // 动物类
  '[狗]': '🐶', '[猫]': '🐱', '[老虎]': '🐯', '[狮子]': '🦁',
  '[熊猫]': '🐼', '[猴子]': '🐵', '[鸡]': '🐔', '[企鹅]': '🐧',
  
  // 食物类
  '[苹果]': '🍎', '[香蕉]': '🍌', '[西瓜]': '🍉', '[葡萄]': '🍇',
  '[汉堡]': '🍔', '[披萨]': '🍕', '[面条]': '🍜', '[米饭]': '🍚',
  '[啤酒]': '🍺', '[红酒]': '🍷', '[牛奶]': '🥛', '[茶]': '🍵',
  
  // 运动类
  '[足球]': '⚽', '[篮球]': '🏀', '[网球]': '🎾', '[羽毛球]': '🏸',
  '[跑步]': '🏃', '[游泳]': '🏊', '[骑车]': '🚴', '[健身]': '🏋️',
  
  // 交通类
  '[汽车]': '🚗', '[火车]': '🚆', '[飞机]': '✈️', '[船]': '🚢',
  '[地铁]': '🚇', '[公交]': '🚌', '[出租车]': '🚕', '[摩托]': '🏍️',
  
  // 节日类
  '[圣诞]': '🎄', '[礼花]': '🎆', '[气球]': '🎈', '[生日]': '🎂',
  '[新年]': '🎊', '[万圣节]': '🎃', '[情人节]': '💝', '[春节]': '🧧',
  // 物品类
  '[咖啡]': '☕', '[蛋糕]': '🎂', '[礼物]': '🎁', '[玫瑰]': '🌹', '[凋谢]': '🥀'
};

const wechatEmojis = Object.values(WECHAT_EMOJI_MAP);

// 现有的分类emoji
const categoryEmojis = [
  '😊', '😂', '👍', '❤️', '😍', '🤔', '😢', '👌', '🔥', '💪', '🙏', '😎',
  '😊', '😂', '🥰', '😍', '😎', '😢', '😠', '😱', '🤔', '😴', '🤐', '😋',
  '👍', '👎', '👌', '✌️', '🤝', '👋', '💪', '🙏', '👏', '🤞', '✊', '👊',
  '❤️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '💔', '🧡', '💛',
  '🎁', '🌹', '☕', '🎂', '⚽', '🎮', '📱', '💻', '🎵', '🌟', '🔥', '✨'
];

// 合并并去重
export const EMOJI_CATEGORIES = [...new Set([...wechatEmojis, ...categoryEmojis])];

/**
 * 将微信表情文本转换为emoji
 */
export const convertWechatToEmoji = (text) => {
  if (!text) return text;
  
  let convertedText = text;
  Object.entries(WECHAT_EMOJI_MAP).forEach(([wechatText, emoji]) => {
    const regex = new RegExp(wechatText.replace(/[[\]]/g, '\\$&'), 'g');
    convertedText = convertedText.replace(regex, emoji);
  });
  
  return convertedText;
};

/**
 * 将emoji转换为微信表情文本（可选）
 */
export const convertEmojiToWechat = (text) => {
  if (!text) return text;
  
  let convertedText = text;
  Object.entries(WECHAT_EMOJI_MAP).forEach(([wechatText, emoji]) => {
    const regex = new RegExp(emoji, 'g');
    convertedText = convertedText.replace(regex, wechatText);
  });
  
  return convertedText;
};